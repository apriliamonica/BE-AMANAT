generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        Int      @id @default(autoincrement())
  name      String
  email     String   @unique
  password  String
  role      Role
  bagian    String?  // Khusus Kepala Bagian
  createdAt DateTime @default(now())

  SuratMasuk  SuratMasuk[]
  SuratKeluar SuratKeluar[]
}

model SuratMasuk {
  id          Int      @id @default(autoincrement())
  nomor       String
  perihal     String
  pengirim    String
  tanggal     DateTime
  fileUrl     String
  status      String   @default("pending")
  createdAt   DateTime @default(now())

  userId Int
  user   User @relation(fields: [userId], references: [id])
}

model SuratKeluar {
  id          Int      @id @default(autoincrement())
  nomor       String
  perihal     String
  tujuan      String
  tanggal     DateTime
  fileUrl     String
  createdAt   DateTime @default(now())

  userId Int
  user   User @relation(fields: [userId], references: [id])
}

enum Role {
  SEKRETARIS_KANTOR
  KETUA_PENGURUS
  SEKRETARIS_PENGURUS
  BENDAHARA
  KEPALA_BAGIAN
}
